{"version":3,"file":"smokeTest/arrangementManagerTests.js","mappings":"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","sources":["webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///external commonjs \"k6\"","webpack:///external commonjs \"k6/http\"","webpack:///./support/config/urls.ts","webpack:///./support/api/identity.ts","webpack:///./support/config/constants.ts","webpack:///./support/api/arrangementManager.ts","webpack:///./smokeTest/arrangementManagerTests.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"k6/http\");","const baseUrl = 'http://localhost:8280';\nconst identityUrl = 'http://localhost:8180';\n\nconst identityRealmPath = '/auth/realms/';\nconst identityAuthPath = '/protocol/openid-connect/token';\n\n// Service Names\nconst accessControlServiceName = 'access-control';\nconst arrangementManagerServiceName = 'arrangement-manager';\n\n// Service API Paths\nconst accessControlPath = '/api/' + accessControlServiceName + '/client-api';\nconst arrangementManagerPath = '/api/' + arrangementManagerServiceName + '/client-api';\n\n// Identity\nexport function getIdentityAuthUrl(realm) {\n    return `${identityUrl}${identityRealmPath}${realm}${identityAuthPath}`;\n}\n\n// Access Control\nexport function getUserContextServiceAgreementsUrl() {\n    return `${baseUrl}${accessControlPath}/v3/accessgroups/user-context/service-agreements`;\n}\n\nexport function getUserContextUrl() {\n    return `${baseUrl}${accessControlPath}/v2/accessgroups/usercontext`;\n}\n\n// Arrangement Manager\nexport function getAggregationsPath() {\n    return `${baseUrl}${arrangementManagerPath}/v2/balances/aggregations`\n}\n\nexport function getProductKindsPath() {\n    return `${baseUrl}${arrangementManagerPath}/v2/product-kinds`\n}\n\nexport function getidentityUsersPath(realm) {\n    return `${identityUrl}/auth/admin/realms/${realm}/users`;\n} \n","import http from 'k6/http';\nimport { check } from 'k6';\nimport { getIdentityAuthUrl, getidentityUsersPath } from '../config/urls';\nimport { getBackbaseRealmName, getUserContext } from '../config/constants';\n\nexport function getAccessToken(realm, clientId) {\n  let url = getIdentityAuthUrl(realm);\n\n  let requestBody = { username: 'admin', password: 'admin', grant_type: 'password', client_id: clientId };\n  let response = http.post(url, requestBody, { headers: { 'Content-Type': 'application/x-www-form-urlencoded' } });\n  let access_token = response.json(\"access_token\");\n\n  check(response, {\n    'auth status is 200': () => response.status === 200\n  });\n\n  check(access_token, {\n    'access_token is not empty': () => access_token !== undefined\n  })\n  \n  return access_token;\n}\n\nexport function createUser(access_token, userName) {\n  \n  let url = getidentityUsersPath(getBackbaseRealmName());\n  let headers = { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + access_token };\n  let userContext = getUserContext();\n  let cookies = { USER_CONTEXT: userContext };\n\n  let requestBody = { \n        'username': `${userName}`,\n        'enabled': 'true',\n        'firstName': 'BE',\n        'lastName': 'Dev',\n        'credentials': [\n            {\n                'type': 'password',\n                'value': 'password'\n            }\n        ]  \n  };\n  \n  let response = http.post(url, JSON.stringify(requestBody), { headers: headers, cookies: cookies });\n\n  check(response, {\n    'createUser response status code is 201': () => response.status === 201\n  });\n}\n\nexport function getUsers(access_token, userName) {\n  \n  let url = getidentityUsersPath(getBackbaseRealmName());\n  let userContext = getUserContext();\n\n  let headers = { 'Accept': '*/*', 'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': 'Bearer ' + access_token };\n  let cookies = { USER_CONTEXT: userContext };\n\n  let response = http.get(url, { headers: headers, cookies: cookies });\n\n  check(response, {\n    'getUsers response status code is 200': () => response.status === 200\n  });\n\n  let body = response?.body?.toString();\n\n  if (body !== undefined && body !== null) {\n    check(response, {\n      'getUsers response contains userName': () => String(body).includes(userName)\n    });\n  } else {\n    check(null, {\n      'Error extracting Users': () => false\n    });\n  }\n\n  return response;\n}\n\n\nexport function getUserIdByUsername(getUsersResponse, userName) {\n  \n  let body = getUsersResponse.body.toString();\n  \n  if (body !== undefined && body !== null) {\n    \n    let users = JSON.parse(body);\n    let userFilter = users.filter(u => u.username == userName);\n    let user = JSON.parse(JSON.stringify(userFilter))[0];\n\n    check(user, {\n      'User Found': () => user !== undefined && user !== null && user.username == userName\n    });\n\n    return user.id;\n\n  } else {\n    check(null, {\n        'Error extracting Users': () => false\n    });\n  }\n\n  return null;\n}\n\nexport function deleteUser(access_token, userId) {\n  \n  let url = `${getidentityUsersPath('backbase')}/${userId}`;\n  let userContext = getUserContext();\n\n  let headers = { 'Accept': '*/*', 'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': 'Bearer ' + access_token };\n  let cookies = { USER_CONTEXT: userContext };\n\n  let response = http.del(url, null, { headers: headers, cookies: cookies });\n\n  check(response, {\n    'deleteUser response status code is 204': () => response.status === 204\n  });\n}\n\n","\n// Realm Names\nconst backbaseRealmName = 'backbase';\nconst masterRealmName = 'master';\n\n// Client Ids\nconst adminCliClientId = 'admin-cli';\nconst bbToolingClient = 'bb-tooling-client';\n\nconst userContext =\n        'eyJraWQiOiJaNXB5dkxcL3FMYUFyR3ZiTkY3Qm11UGVQU1Q4R0I5UHBPR0RvRnBlbmIxOD0iLCJjdHkiOiJKV1QiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2IiwiYWxnIjoiZGlyIn0..tMfNToj_V8l223g2qq-vAQ.m_sJ7rkBrFBn9n7FDYpS_AKgeclXISyq0uPjE1-2uIjezFW6KpXahPZzyZnZMsWdCqIC_E9J_Rnw63aAa_l05OLKoh5t8h-Ksa35iJ9tn2NG_Mjl8XHwXNPpYxAe0Rxyp7tHA64E2fICGyW2NEUsa9u_DwLarRumStiZljboI12X0xv0zqN7KVBjSBRS0JrAdJ2pYxVEB-KlXdpWuNIoWwPccY4UVhvr32PPzw8AxpDdys1LDf6fxbLy6S3fy0L4LNkvKIq5gzsWD8kvnducMLIK87u9dysl-MeFrznaiecKEQVgqLFsmwRWShujcXHy.AQhfRyuBuACzuMumtlgEMw';\n\nconst userNamePrefix = 'zz_k6user_';\n\nexport function getBackbaseRealmName() {\n    return backbaseRealmName;\n}\n\nexport function getMasterRealmName() {\n    return masterRealmName;\n}\n\nexport function getAdminCliClientId() {\n    return adminCliClientId;\n}\n\nexport function getBbToolingClient() {\n    return bbToolingClient;\n}\n\nexport function getUserContext() {\n    return userContext;\n}\n\nexport function getUserNamePrefix() {\n    return userNamePrefix;\n}\n","import http from 'k6/http';\nimport { check } from 'k6';\nimport { getAggregationsPath, getProductKindsPath } from '../config/urls';\nimport { getUserContext } from '../config/constants';\n\nexport function getBalancesAggregations(access_token) {\n\n  let url = getAggregationsPath();\n  let userContext = getUserContext();\n\n  let saHeaders = { 'Accept': '*/*', 'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': 'Bearer ' + access_token };\n  let saCookies = { USER_CONTEXT: userContext };\n\n  let response = http.get(url, { headers: saHeaders, cookies: saCookies });\n\n  check(response, {\n    'getBalancesAggregations status is 200': () => response.status === 200\n  });\n}\n\nexport function getProductKinds(access_token) {\n\n  let url = getProductKindsPath();\n  let userContext = getUserContext();\n\n  let saHeaders = { 'Accept': '*/*', 'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': 'Bearer ' + access_token };\n  let saCookies = { USER_CONTEXT: userContext };\n\n  let response = http.get(url, { headers: saHeaders, cookies: saCookies });\n\n  check(response, {\n    'getProductKinds status is 200': () => response.status === 200\n  });\n}\n","import { sleep } from 'k6';\nimport { getAccessToken } from '../support/api/identity';\nimport { getBalancesAggregations, getProductKinds } from '../support/api/arrangementManager';\nimport { getBackbaseRealmName, getBbToolingClient } from '../support/config/constants';\n\nexport let options = {\n  stages: [\n    { duration: '10s', target: 10 },\n    { duration: '10s', target: 100 },\n    { duration: '10s', target: 10 },\n  ],\n};\n\nexport default () => {\n  const access_token = getAccessToken(getBackbaseRealmName(), getBbToolingClient());\n  \n  getBalancesAggregations(access_token);\n  getProductKinds(access_token);\n  \n  sleep(1);\n};\n"],"names":["baseUrl","identityUrl","identityRealmPath","identityAuthPath","accessControlServiceName","arrangementManagerServiceName","accessControlPath","arrangementManagerPath","getIdentityAuthUrl","realm","getUserContextServiceAgreementsUrl","getUserContextUrl","getAggregationsPath","getProductKindsPath","getidentityUsersPath","http","check","getBackbaseRealmName","getUserContext","getAccessToken","clientId","url","requestBody","username","password","grant_type","client_id","response","post","headers","access_token","json","status","undefined","createUser","userName","userContext","cookies","USER_CONTEXT","JSON","stringify","getUsers","get","body","toString","String","includes","getUserIdByUsername","getUsersResponse","users","parse","userFilter","filter","u","user","id","deleteUser","userId","del","backbaseRealmName","masterRealmName","adminCliClientId","bbToolingClient","userNamePrefix","getMasterRealmName","getAdminCliClientId","getBbToolingClient","getUserNamePrefix","getBalancesAggregations","saHeaders","saCookies","getProductKinds","sleep","options","stages","duration","target"],"sourceRoot":""}